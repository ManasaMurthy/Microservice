#!groovy
node{
    cleanWs() 
    sh ("git init")
    sh ("git pull https://github.com/ManasaMurthy/Microservice")
    sh ("echo ${params.PROJ_TYPE},${params.REPO_NAME},${params.BRANCH_NAME},${params.REPO_URL} >> repo.csv")
    sh ('git add repo.csv')
    sh ('git commit -m "Repository Added."')
    try{
        sh('git remote add origin https://github.com/ManasaMurthy/Microservice.git')
        sh('git remote set-url origin git@github.com:ManasaMurthy/Microservice.git')
        
    }catch(Exception e){
        echo e.getMessage()
    }
   
    sh ('git push origin master')
    
}
    

